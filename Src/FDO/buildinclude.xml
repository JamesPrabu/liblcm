<?xml version="1.0"?>
<include xmlns="http://fieldworks.sil.org/nant/fwnant.xsd">
	<pre-build>
		<!-- some defines -->
		<property name="platform" value="Linux" if="${platform::is-unix()}"/>
		<property name="platform" value="Windows" unless="${platform::is-unix()}"/>
		<!-- DB4o files. -->
		<copy file="${dir.fwdistfiles}/${platform}/Db4objects.Db4o.dll" todir="${dir.outputBase}"/>
		<copy file="${dir.fwdistfiles}/${platform}/Db4objects.Db4o.CS.dll" todir="${dir.outputBase}"/>
		<copy file="${dir.fwdistfiles}/${platform}/Db4objects.Db4o.Linq.dll" todir="${dir.outputBase}"/>
		<!-- StructureMap files. -->
		<copy file="${dir.fwdistfiles}/StructureMap.dll" todir="${dir.outputBase}"/>
		<copy file="${dir.fwdistfiles}/StructureMapAdapter.dll" todir="${dir.outputBase}"/>
		<!-- Microsoft ServiceLocator file. -->
		<copy file="${dir.fwdistfiles}/Microsoft.Practices.ServiceLocation.dll" todir="${dir.outputBase}"/>

		<if test="${platform::is-unix()}">
			<copy todir="${dir.buildOutput}">
			  <fileset>
			<include name="${fwroot}/DistFiles/Linux/libTECkit_Compiler_x86.so"/>
			<include name="${fwroot}/DistFiles/Linux/libTECkit_Compiler_x86_64.so"/>
			<include name="${fwroot}/DistFiles/Linux/libTECkit_x86.so"/>
			<include name="${fwroot}/DistFiles/Linux/libTECkit_x86_64.so"/>
			<include name="${fwroot}/DistFiles/Enchant.Net.dll.config"/>
			<include name="${fwroot}/DistFiles/icu.net.dll.config"/>
			<include name="${fwroot}/DistFiles/icu.net.dll"/>
			  </fileset>
			</copy>
		</if>
	</pre-build>
	<post-build>
		<mkdir dir="${dir.outputBase}/Vulgate" />
		<copy todir="${dir.outputBase}/Vulgate">
			<fileset basedir="${dir.srcProj}/Vulgate">
				<include name="*.txt" />
			</fileset>
		</copy>
	</post-build>
	<post-clean>
	</post-clean>
</include>
